{% extends "base.html" %}

{% block title %}My Interviews{% endblock %}

{% block content %}
<div class="container py-5">
    <h1 class="h2 mb-4">Scheduled Interviews</h1>

    {% if interviews %}
        <div class="row g-4">
            {% for interview in interviews %}
            <div class="col-12">
                <div class="interview-card">
                    <div class="row align-items-center">
                        <div class="col-md-8">
                            <h5 class="job-title-interview">{{ interview.job.title }}</h5>
                            <p class="company-name-interview text-muted">{{ interview.job.company }}</p>
                            <p class="interview-time">
                                <i class="far fa-calendar-alt me-2"></i>{{ interview.scheduled_at.strftime('%a, %b %d, %Y at %I:%M %p') }}
                            </p>
                        </div>
                        <div class="col-md-4 text-md-end">
                            <span class="badge bg-secondary me-2">{{ interview.interview_type|title }}</span>
                            <span class="badge bg-primary">{{ interview.status|title }}</span>
                        </div>
                    </div>

                    {% if interview.notes or interview.meeting_link %}
                    <hr>
                    <div class="interview-notes">
                        <h6><i class="fas fa-info-circle me-2"></i>Details from the Hiring Team:</h6>
                        
                        {% if interview.meeting_link %}
                            <p class="mb-2"><strong>Meeting Link:</strong> <a href="{{ interview.meeting_link }}" target="_blank">{{ interview.meeting_link }}</a></p>
                        {% endif %}

                        {% if interview.notes %}
                            <p class="notes-text mb-0">
                                {{ interview.notes }}
                            </p>
                        {% else %}
                             <p class="notes-text text-muted mb-0">
                                No additional notes were provided.
                            </p>
                        {% endif %}
                    </div>
                    {% endif %}

                </div>
            </div>
            {% endfor %}
        </div>
    {% else %}
        <div class="card p-5 text-center">
            <h5>You have no scheduled interviews.</h5>
            <p>When an employer schedules an interview with you, it will appear here.</p>
        </div>
    {% endif %}
</div>
{% endblock %}